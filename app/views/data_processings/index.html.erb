<h1>Listing data_processings</h1>

<table class="table table-striped table-bordered table-condensed">  <thead>
    <tr>
      <th>Data processing type</th>
      <th>Software</th>
      <th>Data set</th>
      <th>File</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @data_processings.each do |data_processing| %>
      <tr>
        <td><%= data_processing.data_processing_type.name %></td>
        <td><%= data_processing.software.name %></td>
        <td><%= data_processing.data_set.name %></td>
        <% data_processing.assets.each do |asset| %>
          <% if ! asset.nil? %>
         	 <td><%= File.basename(asset.attachment.url) %></td> 
            <td><%= number_to_human_size(asset.attachment.size,:precision => 2) %></td>
            <% end %>
         <% end %>     
        <td><%= link_to  'Download',sftp_download_data_processing_url(data_processing) %></td>
        <td><%= link_to 'Show', data_processing %></td>
        <td><%= link_to 'Edit', edit_data_processing_path(data_processing) %></td>
        <td><%= link_to 'Destroy', data_processing, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Data processing', new_data_processing_path %>
